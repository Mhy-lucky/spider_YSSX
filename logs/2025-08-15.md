# 🖥 服务器使用手册（Linux）
已经上传到服务器上的文件或文件夹，如果本地内容有更新，可以使用 rsync 同步：
rsync -avz --progress "/Users/admin/Desktop/爬虫实习/0814/" h29:/home/maohongyao/pro/code/0814
## 1️⃣ 登录服务器

使用 SSH 登录服务器：

```bash
ssh 用户名@服务器IP或别名
```

**示例：**

```bash
ssh maohongyao@h29
```

* 输入密码即可登录
* 登录后命令行提示符通常显示 `[用户名@主机名 当前目录]$`

---

## 2️⃣ 查看目录与文件

### 查看当前目录内容

```bash
ls
```

**示例：**

```bash
[maohongyao@localhost ~]$ ls
0814  miniconda3  Miniconda3-latest-Linux-x86_64.sh  output.log  google-chrome-stable_current_amd64.deb
```

### 查看详细信息（包括权限、大小、修改时间）

```bash
ls -lh
```

### 查看当前路径

```bash
pwd
```

---

## 3️⃣ 文件夹与文件管理

### 创建目录

```bash
mkdir 目录名
```

* 创建多级目录：

```bash
mkdir -p 父目录/子目录
```

### 修改目录或文件名

```bash
mv 旧名字 新名字
```

**示例：**

```bash
mv old_folder new_folder
mv test.txt test_renamed.txt
```

### 移动文件或目录（安全方法）

```bash
mv [源文件或源目录] [目标目录]
```

**示例：**

```bash
mv test.txt /home/maohongyao/Documents/
mv old_folder /home/maohongyao/backup/
```

> ⚠️ 移动操作不会删除目录内容，只会改变位置

### 删除文件或空目录（安全方法）

* 删除单个文件：

```bash
rm 文件名
```

**示例：**

```bash
rm old_file.txt
```

* 删除空目录：

```bash
rmdir 目录名
```

**示例：**

```bash
rmdir empty_folder
```

> ⚠️ 注意：
>
> * 不使用 `rm -rf` 或其他强制删除命令
> * 删除前先用 `ls` 查看目录内容确认安全

### 复制文件或目录

* 复制文件：

```bash
cp 源文件 目标文件
```

* 复制目录：

```bash
cp -r 源目录 目标目录
```

---

## 4️⃣ 本地文件上传到服务器

### ① 上传单个文件

**通用模板：**

```bash
scp [本地文件路径] [用户名]@[服务器IP或别名]:[远程目标路径]
```

**示例：**

```bash
scp /Users/admin/Desktop/input.txt h29:/home/admin/
```

### ② 上传整个文件夹

**通用模板：**

```bash
scp -r [本地文件夹路径] [用户名]@[服务器IP或别名]:[远程目标路径]
```

**示例：**

```bash
scp -r /Users/admin/Desktop/myfolder h29:/home/admin/
```

> `-r` 表示递归上传整个文件夹，包括子目录和文件

### ③ 上传到非默认 SSH 端口（非 22）

```bash
scp -P [端口号] [本地文件路径] [用户名]@[服务器IP或别名]:[远程目标路径]
```

**示例：**

```bash
scp -P 2222 /Users/admin/Desktop/input.txt h29:/home/admin/
```

### ④ 使用 rsync 上传大文件或目录（支持断点续传）

```bash
rsync -avz [本地文件或文件夹路径] [用户名]@[服务器IP或别名]:[远程目标路径]
```

**示例：**

```bash
rsync -avz /Users/admin/Desktop/myfolder h29:/home/admin/
```

> 参数说明：
>
> * `-a`：归档模式，保持文件权限和时间
> * `-v`：显示传输信息
> * `-z`：压缩传输，加快速度

### ⑤ 上传完成后查看服务器文件

```bash
ssh h29
ls /home/admin/
```

---

## 5️⃣ 上传文件夹内容同步

如果本地文件夹内容有更新，需要同步到服务器：

```bash
rsync -avz --progress "/Users/admin/Desktop/爬虫实习/0814/" h29:/home/maohongyao/pro/code/0814
```

> `--progress` 显示上传进度

---

## 6️⃣ 注意事项

1. **路径问题**

   * Linux 区分大小写
   * 文件名或目录名中有空格需加引号：

```bash
scp "/Users/july/Desktop/My File.txt" maohongyao@h29:~
```

2. **权限问题**

   * 上传失败通常是因为无写权限
   * 上传到有权限的目录，如家目录 `~`

3. **网络问题**

   * 大文件可能中断
   * 使用 `rsync` 支持续传

4. **安全删除**

   * 避免使用 `rm -rf`
   * 删除前用 `ls` 确认文件或目录

