# spider_YSSX
äº‘ä¸Šæ›²ç‡å…¬å¸çˆ¬è™«å®ä¹ 

___
## ä¸€ã€All from myselfï¼š
___
1. è¦çˆ¬å–åŸå›¾ï¼š
   éœ€è¦å…ˆæ‰¾åˆ°<aæ ‡ç­¾ï¼ˆè€Œä¸æ˜¯<divæ ‡ç­¾ï¼‰ä¸€èˆ¬å°±è¡¨ç¤ºè¿™å¼ å›¾ç‰‡æœ¬èº«äº†ï¼Œç„¶åfind_elementså³å¯æ‰¾åˆ°é¡µé¢ä¸Šçš„æ‰€æœ‰å›¾ç‰‡ï¼Œå†è·³è½¬åˆ°å…·ä½“çš„è¯¦æƒ…é¡µé¢<imgæ ‡ç­¾ï¼Œfind_element,ä¸‹è½½(8-11æˆæœ), ä¸€èˆ¬ä¼šå¸¦æœ‰æ°´å°
<img width="1194" height="495" alt="æˆªå±2025-08-12 19 21 40" src="https://github.com/user-attachments/assets/a5ad4c38-8743-4d45-a19e-3bb393195168" />

2. çˆ¬å–ç¼©ç•¥å›¾ï¼š
   æ‰¾åˆ°<imgæ ‡ç­¾å³å¯ï¼Œä¸ç”¨è·³è½¬ï¼ˆ8-12æˆæœ,æ²¡æœ‰æ°´å°ä½†æ˜¯ä¸æ¸…æ™°

3. åŒºåˆ«: class_selector:a.xxxx class_name:xxxx





___
## äºŒã€GitHubå­¦ä¹ æˆæœ
___
### ä¸ªäºº
ä¸€ä¸ªå®Œæ•´çš„ GitHub å·¥ä½œæµç¨‹ï¼Œç¡®ä¿ä½ å¯ä»¥ï¼š

1. **ç»´æŠ¤è‡ªå·±çš„ä»£ç ä»“åº“**ï¼ˆå­˜æ”¾é¡¹ç›®ï¼‰
2. **å†™æ—¥å¿—æ–‡æ¡£**ï¼ˆæ¯”å¦‚ `README.md`ã€å¼€å‘æ—¥å¿—ï¼‰
3. **æ­£ç¡®ä½¿ç”¨ Git å’Œ GitHub**ï¼ˆé¿å… PATã€æƒé™ç­‰é—®é¢˜ï¼‰


---

### **ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œ**

#### 1. å®‰è£… Git

* **Mac**ï¼ˆæ¨èç›´æ¥ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ Gitï¼‰ï¼š

  ```bash
  git --version
  ```

  å¦‚æœæ²¡å®‰è£…ï¼Œä¼šæç¤ºå®‰è£…ï¼Œç‚¹ **Install** å°±å¥½ã€‚

#### 2. æ³¨å†Œ / ç™»å½• GitHub

* [GitHub å®˜ç½‘](https://github.com) æ³¨å†Œè´¦å·ï¼ˆä½ å·²ç»æœ‰äº†ï¼š`Mhy-lucky`ï¼‰ã€‚

---

### **ç¬¬äºŒæ­¥ï¼šç”Ÿæˆå¹¶é…ç½® PATï¼ˆPersonal Access Tokenï¼‰**

å› ä¸º GitHub å–æ¶ˆäº†ç›´æ¥ç”¨å¯†ç æ¨é€ä»£ç ï¼Œæ‰€ä»¥å¿…é¡»ç”¨ **PAT**ã€‚

#### 1. ç”Ÿæˆ PAT

1. ç™»å½• GitHub â†’ ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ **Settings**
2. å·¦ä¾§æ‰¾åˆ° **Developer settings**
3. ç‚¹å‡» **Personal access tokens â†’ Tokens (classic)**
4. ç‚¹ **Generate new token â†’ Generate new token (classic)**
5. å‹¾é€‰æƒé™ï¼š

   * `repo`ï¼ˆä»“åº“è¯»å†™ï¼‰
   * `workflow`ï¼ˆå¯é€‰ï¼Œè¿è¡Œ CIï¼‰
6. è®¾ç½®æœ‰æ•ˆæœŸï¼ˆæ¯”å¦‚ 90 å¤© / æ— é™åˆ¶ï¼‰
7. **ç”Ÿæˆå**ï¼Œä¸€å®šè¦æŠŠå®ƒå¤åˆ¶ä¸‹æ¥ä¿å­˜ï¼ˆç”Ÿæˆé¡µé¢å…³æ‰å°±çœ‹ä¸åˆ°äº†ï¼‰ã€‚

---

### **ç¬¬ä¸‰æ­¥ï¼šåœ¨æœ¬åœ°é…ç½® Git**

#### 1. è®¾ç½®å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆå¿…é¡»å’Œ GitHub å¯¹åº”ï¼‰

```bash
git config --global user.name "Mhy-lucky"
git config --global user.email "ä½ çš„GitHubé‚®ç®±"
```

#### 2. åˆ é™¤æ—§çš„è¿œç¨‹ä»“åº“ç»‘å®šï¼ˆå¦‚æœä¹‹å‰æœ‰ç»‘å®šè¿‡ï¼‰

è¿›å…¥ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ï¼š

```bash
cd /è·¯å¾„/åˆ°/ä½ çš„é¡¹ç›®
git remote remove origin
```

---

### **ç¬¬å››æ­¥ï¼šåˆ›å»º GitHub ä»“åº“**

1. ç™»å½• GitHub â†’ ç‚¹å‡»å³ä¸Šè§’ **+** â†’ **New repository**
2. å¡«ï¼š

   * Repository nameï¼š`spider_YSSX`
   * å‹¾é€‰ `Add a README file`ï¼ˆæ–¹ä¾¿å†™æ—¥å¿—ï¼‰
3. åˆ›å»ºå GitHub ä¼šç»™ä½ ä¸€ä¸ª **ä»“åº“åœ°å€**ï¼Œå½¢å¦‚ï¼š

   ```
   https://github.com/Mhy-lucky/spider_YSSX.git
   ```

---

### **ç¬¬äº”æ­¥ï¼šå…³è”æœ¬åœ°é¡¹ç›®åˆ°æ–°ä»“åº“**

å‡è®¾ä½ é¡¹ç›®æ–‡ä»¶å¤¹æ˜¯ `/Users/admin/spider_YSSX`

```bash
cd /Users/admin/spider_YSSX

# åˆå§‹åŒ– Git ä»“åº“ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
git init

# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/Mhy-lucky/spider_YSSX.git
```

---

### **ç¬¬å…­æ­¥ï¼šç¬¬ä¸€æ¬¡æäº¤å¹¶æ¨é€**

```bash
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤è®°å½•ï¼ˆå†™æ¸…æ¥šæäº¤è¯´æ˜ï¼‰
git commit -m "ç¬¬ä¸€æ¬¡æäº¤ï¼Œä¸Šä¼ é¡¹ç›®"

# æ¨é€åˆ° main åˆ†æ”¯
git push -u origin main
```

ç³»ç»Ÿä¼šæç¤ºï¼š

```
Username for 'https://github.com':
```

* è¾“å…¥ **GitHub ç”¨æˆ·å**ï¼ˆ`Mhy-lucky`ï¼‰

```
Password for 'https://Mhy-lucky@github.com':
```

* ç²˜è´´ **PAT**ï¼ˆè™½ç„¶çœ‹ä¸åˆ°è¾“å…¥å†…å®¹ï¼Œä½†æ˜¯å·²ç»ç²˜è´´è¿›å»äº†ï¼ŒæŒ‰å›è½¦å³å¯ï¼‰

---

### **ç¬¬ä¸ƒæ­¥ï¼šå†™æ—¥å¿—æ–‡æ¡£**

#### 1. ä½¿ç”¨ README.md è®°å½•è¯´æ˜

åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ï¼š

```bash
touch README.md
```

å†™å†…å®¹ï¼š

```markdown
# spider_YSSX
è¿™æ˜¯æˆ‘çš„çˆ¬è™«é¡¹ç›®ã€‚

## å¼€å‘æ—¥å¿—
- 2025-08-12: åˆå§‹åŒ–é¡¹ç›®å¹¶æäº¤åˆ° GitHub
- 2025-08-13: å®Œå–„æ•°æ®æŠ“å–æ¨¡å—
```

#### 2. æäº¤æ—¥å¿—æ›´æ–°

```bash
git add README.md
git commit -m "æ›´æ–° READMEï¼Œæ·»åŠ å¼€å‘æ—¥å¿—"
git push
```

---

### **ç¬¬å…«æ­¥ï¼šå¸¸ç”¨ Git æ“ä½œ**

| åŠŸèƒ½       | å‘½ä»¤                   |
| -------- | -------------------- |
| æŸ¥çœ‹å½“å‰çŠ¶æ€   | `git status`         |
| æŸ¥çœ‹æäº¤å†å²   | `git log --oneline`  |
| æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº | `git add æ–‡ä»¶å`        |
| æäº¤       | `git commit -m "è¯´æ˜"` |
| æ¨é€åˆ°è¿œç¨‹ä»“åº“  | `git push`           |
| æ‹‰å–è¿œç¨‹æ›´æ–°   | `git pull`           |

---

### **ç¬¬ä¹æ­¥ï¼šé¿å… PAT æ¯æ¬¡éƒ½è¦è¾“å…¥**

å¦‚æœä¸æƒ³æ¯æ¬¡è¾“å…¥ç”¨æˆ·å + PATï¼Œå¯ä»¥è®© Git è®°ä½ï¼š

```bash
git config --global credential.helper store
```

ç„¶åä¸‹ä¸€æ¬¡è¾“å…¥åå°±ä¼šä¿å­˜åˆ°æœ¬åœ°ã€‚

---
### **ç¬¬åæ­¥ï¼šæ—¥å¸¸æ“ä½œï¼š å·²ç»å»ºç«‹å¹¶ä¸”å…³è”å¥½è¿œç¨‹ä»“åº“ä¹‹åï¼Œåç»­éœ€è¦ä¸Šä¼ æ–°çš„æ–‡ä»¶æˆ–è€…ä¹‹å‰çš„æ–‡ä»¶å†…å®¹æœ‰ä¿®æ”¹æ—¶ï¼š**
1. git pull origin main --rebase   # å…ˆæ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç 
2. git add .                       # æ·»åŠ ä¿®æ”¹
3. git commit -m "æ›´æ–°è¯´æ˜"         # æäº¤ä¿®æ”¹
4. git push origin main            # æ¨é€åˆ°è¿œç¨‹
___

### å›¢é˜Ÿåä½œ
---

#### å›¢é˜ŸGitåä½œè¶…ç®€æ´å°è´´å£«

1. **å…‹éš†ä»“åº“**
   æ¯ä¸ªäººå…ˆä»è¿œç¨‹ä»“åº“å¤åˆ¶ä»£ç åˆ°æœ¬åœ°ï¼š
   `git clone <ä»“åº“åœ°å€>`

2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   åˆ‡æ¢ä¸»åˆ†æ”¯æ‹‰æœ€æ–°ï¼Œå»ºä¸€ä¸ªä¸“å±åŠŸèƒ½åˆ†æ”¯ï¼š

   ```bash
   git checkout main
   git pull origin main
   git checkout -b feature/ä½ çš„åŠŸèƒ½å
   ```

3. **æ—¥å¸¸å¼€å‘å’Œæäº¤**
   åœ¨è‡ªå·±çš„åŠŸèƒ½åˆ†æ”¯å†™ä»£ç ï¼Œåˆ†æ‰¹æäº¤ï¼š

   ```bash
   git add .
   git commit -m "ç®€æ´æ˜äº†çš„æ”¹åŠ¨è¯´æ˜"
   ```

4. **ä¿æŒåŠŸèƒ½åˆ†æ”¯æ›´æ–°**
   æ¯æ¬¡å¼€å‘å‰ï¼Œä»ä¸»åˆ†æ”¯æ‹‰æœ€æ–°åˆå¹¶è¿›åŠŸèƒ½åˆ†æ”¯ï¼Œé¿å…å†²çªï¼š

   ```bash
   git checkout main
   git pull origin main
   git checkout feature/ä½ çš„åŠŸèƒ½å
   git merge main  # æˆ– git rebase main
   ```

5. **æ¨é€åŠŸèƒ½åˆ†æ”¯**
   æŠŠæœ¬åœ°åŠŸèƒ½åˆ†æ”¯ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š
   `git push origin feature/ä½ çš„åŠŸèƒ½å`

6. **å‘èµ·Pull Requestï¼ˆPRï¼‰**
   åœ¨GitHubç½‘é¡µç«¯ï¼Œä»åŠŸèƒ½åˆ†æ”¯è¯·æ±‚åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼Œç­‰å¾…å›¢é˜Ÿå®¡æ ¸ã€‚

7. **ä»£ç å®¡æ ¸ä¸ä¿®æ”¹**
   å®¡æ ¸äººæå‡ºå»ºè®®åï¼Œç»§ç»­åœ¨åŠŸèƒ½åˆ†æ”¯ä¿®æ”¹å¹¶æ¨é€æ›´æ–°ã€‚

8. **åˆå¹¶ä»£ç **
   å®¡æ ¸é€šè¿‡ï¼Œåˆå¹¶åŠŸèƒ½åˆ†æ”¯åˆ°ä¸»åˆ†æ”¯ï¼Œå®Œæˆååˆ é™¤åŠŸèƒ½åˆ†æ”¯ã€‚

9. **æ›´æ–°æœ¬åœ°ä¸»åˆ†æ”¯**
   åˆå¹¶åï¼Œå¤§å®¶éƒ½æ‹‰å–æœ€æ–°ä¸»åˆ†æ”¯ä»£ç ç»§ç»­å¼€å‘ï¼š

   ```bash
   git checkout main
   git pull origin main
   ```

10. **å†²çªè§£å†³**
    å‡ºç°å†²çªæ—¶ï¼Œæ‰‹åŠ¨ä¿®æ”¹å†²çªæ–‡ä»¶ï¼Œä¿å­˜åï¼š

    ```bash
    git add å†²çªæ–‡ä»¶
    git rebase --continue  # æˆ– git commit
    ```

---

##### é¢å¤–å°è´´å£«

* æäº¤ä¿¡æ¯å†™æ¸…æ¥šï¼Œæ–¹ä¾¿åˆ«äººç†è§£ã€‚
* ä¸ç›´æ¥åœ¨ä¸»åˆ†æ”¯å¼€å‘ï¼Œä¿æŠ¤ä¸»åˆ†æ”¯ç¨³å®šã€‚
* åŠŸèƒ½å®Œæˆå†åˆå¹¶ï¼Œé¿å…ä¸»åˆ†æ”¯å‡ºç°ä¸ç¨³å®šä»£ç ã€‚
* ä»£ç è§„èŒƒå›¢é˜Ÿçº¦å®šï¼Œä¿æŒä¸€è‡´ã€‚
* å®šæœŸæ¸…ç†ä¸éœ€è¦çš„åˆ†æ”¯ï¼Œä¿æŒä»“åº“æ•´æ´ã€‚


---

## ä¸‰ã€ğŸ“ Selenium çˆ¬è™«å…ƒç´ å®šä½ä¸è‡ªåŠ¨åŒ–æ“ä½œå®Œæ•´ç¬”è®°

åœ¨ä½¿ç”¨ Selenium åšçˆ¬è™«æˆ–ç½‘é¡µè‡ªåŠ¨åŒ–æ—¶ï¼Œ**å…ƒç´ å®šä½**å’Œ**åŠ¨æ€é¡µé¢æ“ä½œ**æ˜¯æ ¸å¿ƒæ­¥éª¤ã€‚å…ƒç´ å®šä½ä¸å‡†ç¡®æˆ–æ“ä½œä¸å½“ï¼Œå¯èƒ½å¯¼è‡´çˆ¬è™«å¤±è´¥ã€ç¿»è¯‘/æ•°æ®è·å–é”™è¯¯ï¼Œæˆ–è§¦å‘å®‰å…¨éªŒè¯ã€‚

---

### 1ï¸âƒ£ å…ƒç´ å®šä½åŸåˆ™

1. **å°½é‡ç²¾ç¡®å®šä½**

   * ç›´æ¥å®šä½åˆ°ç›®æ ‡å…ƒç´ ï¼Œé¿å…åœ¨ä¸­é—´å±‚å…ƒç´ ä¸Šé‡å¤æ“ä½œã€‚
   * ç¤ºä¾‹ï¼šå¦‚æœè¦ç‚¹å‡»â€œæäº¤æŒ‰é’®â€ï¼Œä¸è¦å…ˆå®šä½æ•´ä¸ªè¡¨å•å†åœ¨é‡Œé¢æ‰¾ï¼Œé™¤éå¿…é¡»ã€‚

2. **ä»å¤–åˆ°é‡Œ vs ç›´æ¥å®šä½**

   * **ä»å¤–åˆ°é‡Œ**ï¼šå…ˆå®šä½çˆ¶å®¹å™¨ï¼Œå†åœ¨å®¹å™¨å†…æŸ¥æ‰¾å­å…ƒç´ ã€‚

     * ä¼˜ç‚¹ï¼šå‡å°‘åŒç±»å…ƒç´ é‡å¤å†²çªã€‚
     * ç¼ºç‚¹ï¼šæ­¥éª¤å¤šï¼Œå¯èƒ½å¢åŠ  `stale element` é”™è¯¯ã€‚
     * é€‚ç”¨åœºæ™¯ï¼šåŠ¨æ€ç”Ÿæˆé¡µé¢æˆ–å­˜åœ¨å¤šä¸ªåŒç±»å…ƒç´ ã€‚
   * **ç›´æ¥å®šä½**ï¼šç”¨ç²¾ç¡®é€‰æ‹©å™¨ï¼ˆIDã€ç±»åã€XPath ç­‰ï¼‰ç›´æ¥æ‰¾åˆ°ç›®æ ‡å…ƒç´ ã€‚

     * ä¼˜ç‚¹ï¼šç®€æ´ã€å¿«é€Ÿã€‚
     * ç¼ºç‚¹ï¼šé¡µé¢ç»“æ„å˜åŒ–æ—¶å¯èƒ½å¤±æ•ˆã€‚
     * é€‚ç”¨åœºæ™¯ï¼šç»“æ„å›ºå®šã€å”¯ä¸€æ€§å¼ºçš„å…ƒç´ ã€‚

3. **é€‰æ‹©æœ€ç¨³å®šçš„å®šä½æ–¹å¼**

   * å°½é‡é¿å…ä¾èµ– `nth-child` æˆ–è¿‡é•¿ XPathã€‚
   * ä¼˜å…ˆé¡ºåºï¼š`ID > class > CSS > XPath`ã€‚

---

### 2ï¸âƒ£ å¸¸ç”¨å…ƒç´ å®šä½æ–¹å¼

| æ–¹æ³•               | ç¤ºä¾‹                                                                                | ç‰¹ç‚¹                            |
| ---------------- | --------------------------------------------------------------------------------- | ----------------------------- |
| **ID**           | `driver.find_element(By.ID, "username")`                                          | å”¯ä¸€æ€§é«˜ï¼Œå¿«é€Ÿï¼Œç¨³å®š                    |
| **Class**        | `driver.find_element(By.CLASS_NAME, "login-button")`                              | è‹¥å¤šä¸ªåŒç±»å…ƒç´ ï¼Œå¯ç”¨ `find_elements` éå† |
| **Tag**          | `driver.find_element(By.TAG_NAME, "input")`                                       | ä¸€èˆ¬é…åˆå®¹å™¨é™å®š                      |
| **CSS Selector** | `driver.find_element(By.CSS_SELECTOR, "div.container > button.submit")`           | çµæ´»ï¼Œæ”¯æŒç»„åˆçˆ¶å­å…³ç³»ã€ç±»åã€ID             |
| **XPath**        | `driver.find_element(By.XPATH, "//div[@class='container']//button[text()='æäº¤']")` | å¼ºå¤§ï¼Œæ”¯æŒæ–‡æœ¬/å±æ€§åŒ¹é…ï¼Œä½†è¿‡é•¿æ˜“å¤±æ•ˆ           |

---

### 3ï¸âƒ£ çˆ¶å­å…ƒç´ å®šä½æŠ€å·§

1. **å…ˆå®šä½çˆ¶å…ƒç´ ï¼Œå†å®šä½å­å…ƒç´ **

```python
container = driver.find_element(By.CLASS_NAME, "dropdown")
button = container.find_element(By.TAG_NAME, "button")
```

2. **ç›´æ¥å®šä½å­å…ƒç´ **

```python
button = driver.find_element(By.CSS_SELECTOR, ".dropdown > button")
```

**æ€»ç»“**ï¼š

* çˆ¶å­å®šä½æ›´å®‰å…¨ï¼Œå‡å°‘é‡å¤å…ƒç´ å¹²æ‰°ï¼›
* ç›´æ¥å®šä½æ›´ç®€æ´ï¼Œä½†è¦ä¿è¯å”¯ä¸€æ€§ã€‚

---

### 4ï¸âƒ£ å…ƒç´ çŠ¶æ€åˆ¤æ–­ï¼ˆæ˜¾å¼ç­‰å¾…ï¼‰

```python
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.support.ui import WebDriverWait

# å…ƒç´ å¯è§
elem = WebDriverWait(driver, 10).until(
    EC.visibility_of_element_located((By.ID, "submit"))
)

# å…ƒç´ å¯ç‚¹å‡»
elem = WebDriverWait(driver, 10).until(
    EC.element_to_be_clickable((By.ID, "submit"))
)

# åŠ¨æ€æ–‡æœ¬å˜åŒ–
import time
start_time = time.time()
while time.time() - start_time < 10:
    text = elem.text.strip()
    if text:
        break
    time.sleep(0.2)
```

---

### 5ï¸âƒ£ ä¸åŒç±»å‹å…ƒç´ æ“ä½œæ–¹å¼

| å…ƒç´ ç±»å‹        | å®šä½æ–¹æ³•                 | æ“ä½œæ–¹å¼ / æ³¨æ„äº‹é¡¹                               |
| ----------- | -------------------- | ----------------------------------------- |
| æŒ‰é’® Button   | id / class / XPath   | ç‚¹å‡» `click()`ï¼Œå¿…è¦æ—¶æ»šåŠ¨åˆ°è§†é‡ `move_to_element()` |
| è¾“å…¥æ¡† Input   | id / name / CSS      | æ¸…ç©º `clear()` â†’ è¾“å…¥ `send_keys()`           |
| å›¾ç‰‡ Image    | XPath / CSS / alt å±æ€§ | è·å– `src` å±æ€§ï¼Œç”¨äºå±•ç¤ºæˆ–éªŒè¯ç                       |
| ä¸‹æ‹‰èœå• Select | CSS / XPath          | ç‚¹å‡»ä¸‹æ‹‰ â†’ ç­‰å¾…é€‰é¡¹å‡ºç° â†’ ç‚¹å‡»é€‰é¡¹                      |
| åŠ¨æ€æ–‡æœ¬æˆ–ç»“æœ     | CSS / XPath          | è·å– `text`ï¼Œç­‰å¾…å¼‚æ­¥æ›´æ–°                          |
| å¼¹çª— / éªŒè¯ç     | CSS / XPath          | å¯èƒ½éœ€äººå·¥æ“ä½œæˆ–ç‰¹æ®Šå¤„ç†                              |

---

### 6ï¸âƒ£ åŠ¨æ€é¡µé¢ & å®‰å…¨éªŒè¯å¤„ç†é€»è¾‘

* æ“ä½œå¯èƒ½è§¦å‘ **å®‰å…¨éªŒè¯**ï¼ˆå¦‚å›¾å½¢éªŒè¯ç ï¼‰
* ç‚¹å‡»è¯­è¨€æˆ–æŒ‰é’®æœªç”Ÿæ•ˆæ—¶ï¼š

  1. ä¸‹æ‹‰ç‚¹å‡»ç›®æ ‡è¯­è¨€
  2. æ£€æµ‹æ˜¯å¦æˆåŠŸåˆ‡æ¢
  3. è‹¥æœªç”Ÿæ•ˆ â†’ æç¤ºäººå·¥å®Œæˆå®‰å…¨éªŒè¯ â†’ å†æ¬¡ç‚¹å‡»è¯­è¨€
  4. å¾ªç¯ç›´åˆ°æˆåŠŸ
* æ³¨æ„ï¼šæ¯æ¬¡æ“ä½œå‰æ£€æŸ¥å…ƒç´ å¯ç‚¹å‡»ï¼Œé˜²æ­¢ `stale element` å¼‚å¸¸

---

### 7ï¸âƒ£ å®Œæ•´æµç¨‹å›¾
<img width="774" height="486" alt="æˆªå±2025-08-15 17 53 11" src="https://github.com/user-attachments/assets/6dcc5a1d-3f6d-42f0-9451-997797f9fbe2" />
<img width="771" height="560" alt="æˆªå±2025-08-15 17 53 34" src="https://github.com/user-attachments/assets/ec7b8ede-2573-46da-a8ea-a285ec0ac3ed" />

---

### 8ï¸âƒ£ ç‰¹æ®Šæç¤º

1. **å¾ªç¯æ“ä½œè¯­è¨€é€‰æ‹©**

   * ç‚¹å‡»è¯­è¨€æœªç”Ÿæ•ˆ â†’ å¾ªç¯ä¸‹æ‹‰ â†’ ç‚¹å‡» â†’ ç­‰å¾… â†’ æç¤ºäººå·¥å®‰å…¨éªŒè¯ â†’ å†ç‚¹å‡»

2. **éªŒè¯ç  / å®‰å…¨éªŒè¯**

   * è‡ªåŠ¨åŒ–æ—¶å¯èƒ½è§¦å‘å›¾å½¢éªŒè¯ç 
   * æ— æ³•å®Œå…¨è‡ªåŠ¨åŒ–è¯†åˆ«æ—¶ï¼Œåªèƒ½å¾ªç¯æç¤ºäººå·¥å®Œæˆæˆ–ä½¿ç”¨ OCR

3. **é¿å…å¸¸è§å¼‚å¸¸**

   * `StaleElementReferenceException` â†’ å…ƒç´ åˆ·æ–°åå¼•ç”¨å¤±æ•ˆ â†’ é‡æ–°å®šä½
   * `NoSuchElementException` â†’ å…ƒç´ æœªæ¸²æŸ“æˆ–é€‰æ‹©å™¨é”™è¯¯ â†’ ä½¿ç”¨æ˜¾å¼ç­‰å¾…å’Œæ£€æŸ¥é€‰æ‹©å™¨

4. **æ“ä½œé¡ºåº**

   1. å®šä½å…ƒç´ 
   2. ç­‰å¾…å…ƒç´ å¯è§ / å¯ç‚¹å‡»
   3. æ‰§è¡Œæ“ä½œï¼ˆç‚¹å‡»/è¾“å…¥ï¼‰
   4. æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ
   5. å¾ªç¯å¤„ç†å®‰å…¨éªŒè¯ / å¼‚å¸¸
   6. è·å–æœ€ç»ˆç»“æœ

---

âœ… **æ ¸å¿ƒæ€»ç»“**

* å®šä½å…ƒç´ æ—¶ï¼Œ**ç¨³å®šæ€§ä¼˜å…ˆ**ï¼Œå”¯ä¸€æ€§æ¬¡ä¹‹ï¼Œç®€æ´æ€§å†æ¬¡
* åŠ¨æ€é¡µé¢ä¼˜å…ˆ **æ˜¾å¼ç­‰å¾… + çˆ¶å­å®šä½**
* é™æ€é¡µé¢å¯ç›´æ¥ CSS/XPath å®šä½
* å®‰å…¨éªŒè¯å‡ºç°æ—¶ï¼Œå¾ªç¯æ“ä½œç›´åˆ°æˆåŠŸå†è·å–ç»“æœ
* ä¸åŒå…ƒç´ ç±»å‹æœ‰ä¸åŒæ“ä½œæ–¹å¼ï¼ˆæŒ‰é’® / è¾“å…¥æ¡† / ä¸‹æ‹‰ / å›¾ç‰‡ / å¼¹çª—ï¼‰

---

## å››ã€ğŸ“ çˆ¬è™«éœ€æ±‚æ¨¡æ¿ï¼ˆPage Object æ¨¡å¼ï¼‰
è¯·å°½é‡å®Œæ•´å¡«å†™ï¼Œè¶Šè¯¦ç»†è¶Šå‡†ç¡®ï¼š
ç½‘ç«™åŸºæœ¬ä¿¡æ¯
ç½‘ç«™ URLï¼š
ç™»å½•/æƒé™è¦æ±‚ï¼ˆæœ‰/æ— ï¼Œæ˜¯å¦éœ€è¦è´¦å·å¯†ç ï¼‰ï¼š
æ˜¯å¦æœ‰éªŒè¯ç  / å®‰å…¨éªŒè¯ï¼ˆå›¾å½¢/æ»‘å—/å…¶ä»–ï¼‰ï¼š
ç›®æ ‡æ•°æ®
éœ€è¦çˆ¬å–çš„ä¸»è¦ä¿¡æ¯ç±»å‹ï¼ˆæ–‡æœ¬ / å›¾ç‰‡ /æ–‡ä»¶ / ä¸‹æ‹‰é€‰é¡¹ ç­‰ï¼‰ï¼š
å…·ä½“å­—æ®µï¼ˆå¦‚æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´ ç­‰ï¼‰ï¼š
éœ€è¦ä¿å­˜çš„æ ¼å¼ï¼ˆCSV / Excel / JSON / æ•°æ®åº“ï¼‰ï¼š
ç›®æ ‡é¡µé¢ç»“æ„
é¡µé¢æ˜¯é™æ€è¿˜æ˜¯åŠ¨æ€æ¸²æŸ“ï¼ˆAJAX/JSï¼‰ï¼š
æ˜¯å¦å­˜åœ¨åˆ†é¡µ / æ»šåŠ¨åŠ è½½ / ä¸‹æ‹‰åˆ·æ–°ï¼š
æ˜¯å¦éœ€è¦ç¿»é¡µ / æ— é™æ»šåŠ¨ï¼š
æ“ä½œéœ€æ±‚
æ˜¯å¦éœ€è¦æ¨¡æ‹Ÿç‚¹å‡»æŒ‰é’® / ä¸‹æ‹‰èœå• / é€‰æ‹©é€‰é¡¹ï¼š
æ˜¯å¦éœ€è¦è¾“å…¥æ–‡æœ¬ï¼ˆæœç´¢æ¡† / ç™»å½• / ç­›é€‰ï¼‰ï¼š
æ˜¯å¦éœ€è¦å¾ªç¯æ“ä½œï¼ˆæ¯”å¦‚å¾ªç¯é€‰æ‹©å¤šä¸ªä¸‹æ‹‰é¡¹æˆ–ç¿»é¡µï¼‰ï¼š
å…ƒç´ å®šä½ä¿¡æ¯
æ˜¯å¦èƒ½æä¾›ä¸»è¦å…ƒç´ çš„ ID / class / CSS / XPathï¼š
å¯¹äºå¤æ‚é¡µé¢ï¼Œæ˜¯å¦å¸Œæœ›é‡‡ç”¨çˆ¶å­å…ƒç´ å®šä½ï¼š
éœ€è¦æ˜¾å¼ç­‰å¾…çš„å…ƒç´ ï¼ˆå¯è§ / å¯ç‚¹å‡» / å·²å­˜åœ¨ï¼‰ï¼š
å…¶ä»–è¦æ±‚
æ˜¯å¦è¦æ±‚ æ— å¤´æ¨¡å¼ï¼ˆHeadlessï¼‰è¿è¡Œï¼š
æ˜¯å¦éœ€è¦æ—¥å¿— / å¼‚å¸¸å¤„ç† / é‡è¯•æœºåˆ¶ï¼š
æ˜¯å¦æœ‰ç‰¹æ®Šæ“ä½œï¼ˆå¦‚ä¸‹è½½æ–‡ä»¶ã€æˆªå›¾ã€éªŒè¯ç äººå·¥æç¤ºï¼‰ï¼š

___
## äº”ã€æœåŠ¡å™¨è·‘ä»£ç ï¼Œå®‰è£… Conda å¹¶åˆ›å»º Python ç¯å¢ƒç¬”è®°
___

### 1ï¸âƒ£ ç™»å½•æœåŠ¡å™¨

```bash
ssh h29
```

ç™»å½•åï¼Œä¼šçœ‹åˆ°ç±»ä¼¼ï¼š

```
[maohongyao@localhost ~]$
```

---

### 2ï¸âƒ£ æœåŠ¡å™¨æœªå®‰è£… Conda æ—¶çš„ä¸€æ¡å‘½ä»¤å®‰è£…è„šæœ¬

```bash
ssh h29 "bash -c '\
# ä¸‹è½½å¹¶å®‰è£… Miniconda
wget -O ~/Miniconda3-latest-Linux-x86_64.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh && \
bash ~/Miniconda3-latest-Linux-x86_64.sh -b -p ~/miniconda3 && \
# ä½¿ç”¨å›½å†…é•œåƒï¼Œé¿å… TOS å’Œä¸‹è½½æ…¢
~/miniconda3/bin/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ && \
~/miniconda3/bin/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ && \
# æ¥å—å®˜æ–¹ TOS
~/miniconda3/bin/conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/main && \
~/miniconda3/bin/conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/r && \
# åˆ›å»º Python 3.10 ç¯å¢ƒ
~/miniconda3/bin/conda create -n myenv python=3.10 -y || true && \
# å®‰è£…ä¾èµ–
~/miniconda3/bin/conda run -n myenv pip install selenium requests -i https://pypi.tuna.tsinghua.edu.cn/simple && \
# éªŒè¯ Python å’Œ Selenium
~/miniconda3/bin/conda run -n myenv python -c \"import sys; print(\\\"Python version:\\\", sys.version)\" && \
~/miniconda3/bin/conda run -n myenv python -c \"import selenium; print(\\\"Selenium version:\\\", selenium.__version__)\" && \
# è¿è¡Œä½ çš„ Python è„šæœ¬
~/miniconda3/bin/conda run -n myenv python your_script.py\
'"
```

> æ›¿æ¢ `your_script.py` ä¸ºä½ è‡ªå·±çš„è„šæœ¬è·¯å¾„

---

### 3ï¸âƒ£ æœåŠ¡å™¨å·²å®‰è£… Conda æ—¶çš„ä¸€æ¡å‘½ä»¤è„šæœ¬

```bash
ssh h29 "bash -c '\
# ä½¿ç”¨å›½å†…é•œåƒ
~/miniconda3/bin/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ && \
~/miniconda3/bin/conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ && \
# æ¥å—å®˜æ–¹ TOS
~/miniconda3/bin/conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/main && \
~/miniconda3/bin/conda tos accept --override-channels --channel https://repo.anaconda.com/pkgs/r && \
# åˆ›å»º Python 3.10 ç¯å¢ƒï¼ˆå·²å­˜åœ¨ä¸ä¼šæŠ¥é”™ï¼‰
~/miniconda3/bin/conda create -n myenv python=3.10 -y || true && \
# å®‰è£…ä¾èµ–
~/miniconda3/bin/conda run -n myenv pip install selenium requests -i https://pypi.tuna.tsinghua.edu.cn/simple && \
# éªŒè¯ Python å’Œ Selenium
~/miniconda3/bin/conda run -n myenv python -c \"import sys; print(\\\"Python version:\\\", sys.version)\" && \
~/miniconda3/bin/conda run -n myenv python -c \"import selenium; print(\\\"Selenium version:\\\", selenium.__version__)\" && \
# è¿è¡Œä½ çš„ Python è„šæœ¬
~/miniconda3/bin/conda run -n myenv python your_script.py\
'"
```

---

### 4ï¸âƒ£ å®‰è£…å®Œæˆåçš„éªŒè¯

```bash
# æŸ¥çœ‹ Python ç‰ˆæœ¬
python --version

# æŸ¥çœ‹ Selenium ç‰ˆæœ¬
python -c "import selenium; print(selenium.__version__)"
```

* Python åº”è¯¥æ˜¯ä½ æŒ‡å®šçš„ç‰ˆæœ¬ï¼ˆå¦‚ 3.10.18ï¼‰
* Selenium åº”è¯¥å¯ä»¥æ­£å¸¸å¯¼å…¥ï¼ˆå¦‚ 4.35.0ï¼‰

---

### 5ï¸âƒ£ åå°è¿è¡Œè„šæœ¬ç¤ºä¾‹

```bash
~/miniconda3/bin/conda run -n myenv nohup python your_script.py > output.log 2>&1 &
```

---

### 6ï¸âƒ£ ç™»å½•æœåŠ¡å™¨åç»§ç»­ä½¿ç”¨ Conda ç¯å¢ƒ

```bash
source ~/miniconda3/bin/activate
conda activate myenv
```

ç„¶åå°±å¯ä»¥ç›´æ¥è¿è¡Œä½ çš„ Python è„šæœ¬ã€‚

---

### 7ï¸âƒ£ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ³•

| é—®é¢˜                                                      | åŸå›         | è§£å†³æ–¹æ³•                                                 |
| ------------------------------------------------------- | --------- | ---------------------------------------------------- |
| å®‰è£…æŠ¥ `--More--`                                          | å®‰è£…è®¸å¯è¯åˆ†é¡µæ˜¾ç¤º | ä½¿ç”¨ `-b` æ— äº¤äº’å®‰è£…ï¼Œæˆ–æŒ‰ç©ºæ ¼å›è½¦ç»§ç»­                               |
| å®‰è£…è·¯å¾„æœ‰ç©ºæ ¼æŠ¥é”™ `Cannot install into directories with spaces` | è·¯å¾„ä¸åˆæ³•     | é€‰æ‹©æ— ç©ºæ ¼è·¯å¾„ï¼Œä¾‹å¦‚ `~/miniconda3`                            |
| æ¿€æ´» Conda æŠ¥é”™ `No such file or directory`                 | è·¯å¾„å†™é”™      | ä½¿ç”¨ `source ~/miniconda3/bin/activate`                |
| åˆ›å»ºç¯å¢ƒæŠ¥ `EnvironmentNameNotFound`                         | ç¯å¢ƒä¸å­˜åœ¨     | å…ˆç”¨ `conda info --envs` æŸ¥çœ‹ï¼Œå†åˆ›å»ºæ–°ç¯å¢ƒ                     |
| pip ä¸‹è½½è¶…æ—¶                                                | ç½‘ç»œé—®é¢˜      | ä½¿ç”¨å›½å†…é•œåƒï¼š`-i https://pypi.tuna.tsinghua.edu.cn/simple` |

---

### 8ï¸âƒ£ ä¼˜ç‚¹

* ä¸€é”®å®Œæˆå®‰è£…ã€ç¯å¢ƒåˆ›å»ºã€ä¾èµ–å®‰è£…ã€ç‰ˆæœ¬éªŒè¯å’Œè„šæœ¬è¿è¡Œ
* æ”¯æŒå›½å†…é•œåƒåŠ é€Ÿä¸‹è½½
* ä¸éœ€è¦ç®¡ç†å‘˜æƒé™
* å¯ç›´æ¥åå°è¿è¡Œè„šæœ¬

#####  ps:å·²ç»æ–°å»ºå¥½äº†ç¯å¢ƒï¼Œæ¯æ¬¡éœ€è¦ä»æœåŠ¡å™¨è¿›å…¥ç¯å¢ƒæ—¶ï¼š
source ~/miniconda3/bin/activate
conda activate myenv

---







